<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <!--
    Master Changelog file - điều phối tất cả các migration files

    Cấu trúc:
    - v1.0: Tạo bảng cơ bản (baseline cho DB mới)
    - v1.1: Thêm audit fields cho existing DB
    - v1.2: Tạo bảng users
    - v1.3: Thêm constraints và indexes
    -->

    <!-- Version 1.0: Baseline - Tạo structure cơ bản cho DB mới -->
    <include file="db/changelog/01-create-videos-table.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.1: Migration - Thêm audit fields cho existing DB -->
    <include file="db/changelog/01-add-audit-fields-to-videos.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.2: New features - Tạo bảng users -->
    <include file="db/changelog/01-create-users-table.xml" relativeToChangelogFile="false"/>

    <include file="db/changelog/02-update-status-field-length.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.4: Auto-reset feature - Thêm field assigned_at cho auto-reset logic -->
    <include file="db/changelog/03-add-assigned-at-field.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.5: Price feature - Thêm field price cho pricing logic -->
    <include file="db/changelog/04-add-price-field.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.6: Audit Logs feature - Tạo hệ thống tracking lịch sử video -->
    <include file="db/changelog/05-create-audit-logs-table.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.7: Notifications feature - Tạo hệ thống quản lý notifications -->
    <include file="db/changelog/06-create-notifications-table.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.8: Staff Limits feature - Tạo hệ thống giới hạn nhân viên -->
    <include file="db/changelog/07-create-staff-limits-table.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.8.1: Fix Staff Limits unique constraint -->
    <include file="db/changelog/08-fix-staff-limits-unique-constraint.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.8.2: Add configurable max orders per day to staff limits -->
    <include file="db/changelog/09-add-max-orders-per-day-to-staff-limits.xml" relativeToChangelogFile="false"/>

    <!-- Version 1.9: Bill Image URL feature - Thêm bill_image_url cho videos -->
    <include file="db/changelog/10-add-bill-image-url-to-videos.xml" relativeToChangelogFile="false"/>

</databaseChangeLog>